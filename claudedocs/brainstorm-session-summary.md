# 麻雀スコア管理アプリ - ブレインストーミングセッションサマリー

**日時**: 2025-10-25
**セッションタイプ**: /sc:brainstorm --strategy systematic
**参加者**: ユーザー + Claude (Brainstorming Mode)

---

## セッション概要

体系的な質問と対話を通じて、「麻雀スコア管理アプリ」の要件を明確化し、実装可能な仕様書に落とし込みました。

---

## 発見された要件

### 1. 利用シーン
- **主要**: 友人同士のカジュアルな麻雀 + 定期的な麻雀サークル
- **重要機能**: 半荘毎の記録 → 日次集計・ランキング

### 2. ユーザー特性
- **麻雀知識**: 初心者も含まれる
- **技術習熟度**: 一般的なアプリは使える
- **年齢層**: 幅広い（10代〜60代以上）
- **入力者**: 固定の記録係（1名）

### 3. データ記録範囲

**必須**:
- 各プレイヤーの最終持ち点
- ウマ・オカを含めた最終収支
- 順位（1位〜4位）
- 日時、参加プレイヤー名
- 半荘番号（その日の何回戦目か）
- 東風戦 or 東南戦の区別

**オプション**:
- 各局の結果（役、点数など）
- トビ・罰符の有無
- メモ欄

**集計**:
- 日次の総合収支
- 日次ランキング
- 半荘ごとの順位
- （長期の勝率・平均順位は一旦不要）

### 4. プラットフォーム
- **デバイス**: スマホ・タブレット・PC 全対応
- **OS**: iOS/Android 両方対応必須
- **形式**: Web アプリ（PWA）
- **優先順位**: 早期リリース重視

### 5. データ管理
- **保存**: クラウド同期
- **共有**: 全員が成績閲覧可能（将来的にリアルタイム共有）
- **長期管理**: メンバーの長期成績管理が必要
- **エクスポート**: 一旦不要

### 6. 認証・アクセス管理
- **記録係**: Google ログイン（アカウント登録必須）
- **プレイヤー**: アカウント登録必須
- **アクセス制御**: 特定グループのメンバーのみ閲覧可能
- **バックアップ/エクスポート**: 一旦不要

### 7. ルール設定
- **基本設定**: 東風/東南、開始点、返し点、ウマオカ - 必須
- **レート設定**: 点棒→ポイント換算 - 必須
- **拡張設定**: トビ賞、祝儀 - 必須
- **管理方法**: グループごとに固定ルール

### 8. グループ管理
- **作成**: 誰でも可能
- **招待**: 招待リンク方式
- **記録係**: 将来的に複数、初期は1名
- **退出機能**: 一旦不要

### 9. スコア入力フロー
- **理想**: 局ごと記録（Phase 2以降）
- **MVP**: シンプル入力（最終持ち点のみ）
- **エラーチェック**: 必須（合計点数検証）
- **修正・削除**: 必須

### 10. 技術スタック
- **フロントエンド**: Next.js + Tailwind CSS
- **バックエンド/DB**: Supabase
- **認証**: Google OAuth
- **デザイン**: シンプル・機能的

### 11. リリース計画
- **MVP範囲**: 最小限の機能
- **目標**: できるだけ早く（1-2ヶ月）
- **Phase 2**: 局ごと記録、長期統計、複数記録係

---

## 主要な決定事項

| 項目 | 決定内容 |
|------|---------|
| プラットフォーム | Web アプリ（PWA） |
| 対応デバイス | スマホ・タブレット・PC 全対応 |
| 技術スタック | Next.js + Tailwind CSS + Supabase |
| 認証方式 | Google OAuth |
| データ保存 | クラウド同期（Supabase） |
| アクセス制御 | グループベース |
| ルール管理 | グループ固定 |
| MVP スコープ | シンプル入力（最終持ち点のみ） |
| リリース目標 | 1-2ヶ月 |
| デザイン方針 | シンプル・機能的 |

---

## 探索した質問（10問）

1. **利用シーン・目的**: カジュアル麻雀 + 定期サークル
2. **ユーザー像**: 初心者対応、幅広い年齢層、固定記録係
3. **記録データ範囲**: 基本スコア必須、局詳細はオプション
4. **利用環境**: 全デバイス対応、Web アプリ優先
5. **データ管理**: クラウド同期、全員閲覧可能
6. **認証管理**: Google ログイン、グループベースアクセス
7. **ルール設定**: 基本+レート+拡張設定、グループ固定
8. **グループ管理**: 誰でも作成可、招待リンク、複数記録係（将来）
9. **画面構成とフロー**: 理想は局ごと、MVPはシンプル入力
10. **優先順位とリリース**: MVP最小限、早期リリース、段階的拡張

---

## 作成されたドキュメント

### 1. 機能要件仕様書
**ファイル**: `docs/functional-requirements.md`

**内容**:
- プロジェクト概要
- 機能要件の詳細定義（認証、グループ、スコア記録、集計）
- 非機能要件
- データ要件
- 制約事項と将来拡張
- 用語集

### 2. 技術アーキテクチャ設計
**ファイル**: `docs/technical-architecture.md`

**内容**:
- システム構成図
- 技術スタック詳細
- プロジェクト構成（ディレクトリ構造）
- データフロー（認証、スコア記録、データ取得）
- セキュリティ設計（RLS、暗号化）
- パフォーマンス最適化
- PWA 対応
- 環境変数・デプロイ戦略

### 3. データベーススキーマ設計
**ファイル**: `docs/database-schema.md`

**内容**:
- ER図
- テーブル定義（7テーブル）
  - profiles, groups, group_rules, group_members, games, game_results
- RLS（Row Level Security）ポリシー
- ビュー（日次集計、グループ統計）
- トリガー（自動処理）
- TypeScript 型定義生成方法

### 4. 実装計画
**ファイル**: `docs/implementation-plan.md`

**内容**:
- MVP スコープ定義
- 6つの開発フェーズ
- 詳細タスク分解（30日分）
- 工数見積もり
- リスク管理
- マイルストーン
- 開発フロー・コードレビュー基準

### 5. README.md
**ファイル**: `README.md`

**内容**:
- プロジェクト概要
- 主な機能
- 技術スタック
- セットアップ手順
- デプロイ方法
- 開発スケジュール
- トラブルシューティング

### 6. 環境変数サンプル
**ファイル**: `.env.example`

**内容**:
- Supabase URL/Key のプレースホルダー
- アプリケーション設定

---

## 次のステップ

### すぐに開始すべきこと
1. GitHub リポジトリ作成
2. Supabase プロジェクト作成
3. Next.js プロジェクトセットアップ

### 最初の1週間
- 環境構築完了
- 認証機能動作確認
- グループ作成画面プロトタイプ

### 最初の1ヶ月
- グループ機能完成
- スコア記録機能完成
- 基本的な集計機能完成

---

## 重要な洞察

### 1. ユーザー中心設計
- 初心者対応が必須 → シンプルなUI/UX
- 幅広い年齢層 → アクセシビリティ重視
- 固定記録係 → 権限管理の簡素化

### 2. 段階的アプローチ
- MVP: シンプル入力で早期リリース
- Phase 2: 局ごと記録で詳細化
- Phase 3: 高度な統計・分析

### 3. 技術的合理性
- PWA: マルチデバイス対応を効率的に実現
- Supabase: BaaS で開発スピード向上
- Next.js: モダンで高速な開発体験

### 4. スコープ管理
- 必須機能に絞ることで早期リリースを実現
- 将来拡張を見据えた拡張可能な設計
- ユーザーフィードバックに基づく段階的改善

---

## セッションの振り返り

### うまくいったこと
- 体系的な質問で要件を効率的に収集
- ユーザーの優先順位を明確化
- 技術スタックの早期決定
- 実装可能な範囲への現実的なスコープ調整

### 学んだこと
- 麻雀スコア管理の複雑性（ウマオカ、トビ賞、祝儀など）
- グループベースのアクセス制御の重要性
- 段階的リリースの価値

### 今後の改善点
- ユーザーテストの早期実施
- プロトタイプによる検証
- パフォーマンステストの実施

---

## プロジェクト成功の鍵

1. **シンプルさ**: 複雑化を避け、必須機能に集中
2. **ユーザー体験**: 初心者でも使いやすいUI
3. **早期リリース**: フィードバックループの確立
4. **段階的改善**: MVP → Phase 2 → Phase 3
5. **品質**: セキュリティ・パフォーマンスの確保

---

**セッション完了日時**: 2025-10-25
**次回アクション**: プロジェクトセットアップ開始
